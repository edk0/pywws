<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
  <head>
    <title>
      Software for WeatherStations: DataStore.py
    </title>
  </head>
  <body>
    <h1>
      <a href="index.html">Python software for USB Wireless WeatherStations</a>
    </h1>
    <h2>
      <a href="auto/pywws.DataStore-module.html">DataStore.py</a> -- stores readings in easy to access files
    </h2>
    <p>
      This module is at the core of my weather station software. It stores data on disc, but without the overhead of a full scale database system. I have designed it to run on a small memory machine such as my Asus router. To minimise memory usage it only loads one day's worth of data at a time into memory.
    </p>
    <p>
      From a "user" point of view, the data is accessed as a cross between a list and a dictionary. Each data record is indexed by a <a href="http://docs.python.org/library/datetime.html#datetime-objects">datetime</a> object (dictionary behaviour), but records are stored in order and can be accessed as slices (list behaviour).
    </p>
    <p>
      For example, to access the hourly data for last Christmas day, one might do the following:
    </p>
<pre>
from datetime import datetime
import DataStore
hourly = DataStore.hourly_store('weather_data')
for data in hourly[datetime(2008, 12, 25):datetime(2008, 12, 26)]:
    print data['idx'], data['temp_out']
</pre>
    <p>
      The module provides three classes to store different data. <code>data_store</code> takes "raw" data from the weather station, <code>hourly_store</code>, <code>daily_store</code> and <code>monthly_store</code> store processed data (see <a href="process.html">Process.py</a>). All three are derived from the same <code>core_store</code> class, they only differ in the keys and types of data stored in each record.
    </p>
    <hr>
    <p>
      <a href="http://code.google.com/p/pywws/"><i>Python software for USB Wireless WeatherStations</i></a> &copy; <a href="http://www.jim-easterbrook.me.uk/">Jim Easterbrook</a>.
    </p>
  </body>
</html>